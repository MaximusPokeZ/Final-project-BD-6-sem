# üöÜ Train Movement Analytics Platform

**Train Movement Analytics Platform** ‚Äî —ç—Ç–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ–µ–∑–¥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏. –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ –æ—Å–Ω–æ–≤–µ Spring Boot, Kafka, ClickHouse, Redis, MongoDB –∏ PostgreSQL —Å –ø–æ–ª–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–µ–π –≤ Docker.

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã–π –ø–æ–¥—Ö–æ–¥**, –≥–¥–µ –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–≤–æ—é –∑–∞–¥–∞—á—É –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ —á–µ—Ä–µ–∑ **Apache Kafka**.

–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω –≤ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø–æ–ª–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                            |
|----------------|-------------------------------------------------------|
| **Spring Boot**| –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏ –∏ REST API                |
| **Kafka**      | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏         |
| **PostgreSQL** | –•—Ä–∞–Ω–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª                                |
| **Redis**      | –ë—ã—Å—Ç—Ä–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è         |
| **MongoDB**    | –ì–∏–±–∫–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π       |
| **ClickHouse** | –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤    |
| **Docker**     | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤                      |
| **Swagger**    | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API                                      |
| **Grafana + Prometheus** | –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫            |

---

## üõ∞Ô∏è –ú–æ–¥—É–ª–∏

- **Kafka** ‚Äî –ø—Ä–∏—ë–º –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π.
- **GeneratorMessages** - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Ç–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π
- **Filtering** - –æ—Ç–±–∏—Ä–∞–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- **Deduplication** - —É–±–∏—Ä–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è
- **Enrichment** - –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é MongoDb
- **AnalyticsCollector** - –ø–æ–º–µ—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ ClickHouse –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- **Management** - –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –≤ psql
- **Authorization** - –≤—ã–ø–æ–ª–Ω—è–µ—Ç jwt-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ–±—â–∞–µ—Ç—Å—è —Å Management —á–µ—Ä–µ–∑ FeignClient
- **Jarniki** - —Ä–∞–±–æ—á–∞—è –ª–æ—à–∞–¥–∫–∞ –¥–ª—è —Å–±–æ—Ä–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- **BuildAndMetrics** - –≥–æ—Ç–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞ - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å docker-compose up ‚Äîbuild


---

## üìä –ü—Ä–∏–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è

```json
{
  "timestamp": "2025-05-17T21:39:13",
  "model": "Ivolga",
  "coordX1": 69.19,
  "coordX2": 60.87,
  "state": null
}
```
  
## –ü—Ä–∏–º–µ—Ä Prometheus

![Prometheus](./doc/pictures/prometheus.jpg)

## –ü—Ä–∏–º–µ—Ä Grafana

![Grafana](./doc/pictures/grafana.jpg)

## –ü—Ä–∏–º–µ—Ä Docker

![Docker](./doc/pictures/docker.jpg)

## –†–µ–∑—É–ª—å—Ç–∞—Ç

![Messages](./doc/pictures/messages.jpg)




